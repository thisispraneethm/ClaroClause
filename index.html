<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#ffffff" />
    <meta
      name="description"
      content="ClaroClause - Simplify legal text instantly on your device."
    />
    <title>ClaroClause</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      :root {
        --background-rgb: 5 5 8;
        --foreground-rgb: 220 220, 225;
        --shadow-color-rgb: 0 0 0;

        --card-rgb: 12 12 16;
        --card-foreground-rgb: 220 220 225;

        --primary-rgb: 160 90 255;
        --primary-foreground-rgb: 250 250 250;

        --secondary-rgb: 25 25 32;
        --secondary-foreground-rgb: 200 200 205;
        
        --muted-rgb: 140 140 145;
        --muted-foreground-rgb: 140 140 145;
        
        --border-rgb: 40 40 45;
        --ring-rgb: 180 140 255;

        --risk-high-rgb: 255 80 110;
        --risk-medium-rgb: 255 180 80;
        --risk-low-rgb: 0 220 180; 

        --destructive-rgb: 255 80 110;
        --destructive-foreground-rgb: 255 255 255;
      }
      
      html[data-theme='light'] {
        --background-rgb: 247 248 250;
        --foreground-rgb: 15 15 25;
        --shadow-color-rgb: 100 100 120;

        --card-rgb: 255 255 255;
        --card-foreground-rgb: 15 15 25;
        
        --primary-rgb: 80 85 220;
        --primary-foreground-rgb: 255 255 255;

        --secondary-rgb: 239 242 249;
        --secondary-foreground-rgb: 30 30 40;
        
        --muted-rgb: 148 163 184;
        --muted-foreground-rgb: 100 116 139;
        
        --border-rgb: 220 225 235;
        --ring-rgb: 90 95 230;

        --risk-high-rgb: 230 60 60;
        --risk-medium-rgb: 250 150 5;
        --risk-low-rgb: 15 160 120;
        
        --destructive-rgb: 230 60 60;
        --destructive-foreground-rgb: 255 255 255;
      }
      
      html, body, #root {
        height: 100%;
      }

      body {
        color: rgb(var(--foreground-rgb));
        background-color: rgb(var(--background-rgb));
        font-size: clamp(14px, 1vw, 16px);
        line-height: 1.6;
        transition: background-color 0.5s ease, color 0.5s ease;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow: hidden;
      }
      
      @keyframes cosmic-rift {
        0% { transform: translate(0, 0) rotate(0deg); }
        25% { transform: translate(10px, 20px) rotate(5deg); }
        50% { transform: translate(-15px, -10px) rotate(-3deg); }
        75% { transform: translate(5px, -15px) rotate(4deg); }
        100% { transform: translate(0, 0) rotate(0deg); }
      }

      body::before {
        content: '';
        position: fixed;
        inset: -50px;
        z-index: -2;
        pointer-events: none;
        
        background-image:
            radial-gradient(ellipse at 70% 20%, rgba(var(--primary-rgb), 0.15), transparent 50%),
            radial-gradient(ellipse at 30% 80%, rgba(var(--risk-low-rgb), 0.1), transparent 50%),
            radial-gradient(ellipse at 50% 50%, rgba(var(--risk-medium-rgb), 0.1), transparent 60%);
        
        animation: cosmic-rift 80s ease-in-out infinite;
        
        filter: blur(120px) saturate(150%);
        opacity: 0.9;
        will-change: transform;
      }
      
      html[data-theme='light'] body::before {
        opacity: 0.7;
        filter: blur(120px) saturate(180%);
         background-image:
            radial-gradient(ellipse at 70% 20%, rgba(var(--primary-rgb), 0.1), transparent 50%),
            radial-gradient(ellipse at 30% 80%, rgba(var(--risk-low-rgb), 0.08), transparent 50%),
            radial-gradient(ellipse at 50% 50%, rgba(var(--risk-medium-rgb), 0.08), transparent 60%);
      }
      
      body::after {
        content: '';
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke-width="1" stroke="rgb(var(--border-rgb))"%3E%3Cpath d="M0 .5 L32 .5 M.5 0 L.5 32"/%3E%3C/svg%3E');
        z-index: -1;
        opacity: 0.05;
        mask-image: radial-gradient(ellipse at center, black 10%, transparent 80%);
      }
      
      html[data-theme='light'] body::after {
        opacity: 0.07;
      }
      
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background-color: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background-color: rgba(var(--border-rgb), 0.7);
        border-radius: 8px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background-color: rgba(var(--border-rgb), 1);
      }
      
      .glass-panel {
          backdrop-filter: blur(40px) saturate(150%);
          -webkit-backdrop-filter: blur(40px) saturate(150%);
          position: relative;
          transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
          z-index: 1;
      }

      html[data-theme='dark'] .glass-panel {
          background-color: rgba(var(--card-rgb), 0.5);
          border: 1px solid rgba(var(--border-rgb), 0.5);
          box-shadow: 
              inset 0 1px 1px 0 rgba(255, 255, 255, 0.05),
              0 20px 60px -20px rgba(var(--shadow-color-rgb), 0.6);
      }

      html[data-theme='light'] .glass-panel {
          background-color: rgba(var(--card-rgb), 0.7);
          border: 1px solid rgba(var(--border-rgb), 0.6);
          box-shadow: 
              inset 0 1px 1px 0 rgba(255, 255, 255, 0.5),
              0 20px 60px -20px rgba(var(--shadow-color-rgb), 0.2);
      }
      
      mark {
        background-color: rgba(var(--primary-rgb), 0.25);
        color: rgb(var(--primary-rgb));
        font-weight: 600;
        padding: 0.2em 0.5em;
        border-radius: 8px;
        transition: all 0.3s ease;
        box-shadow: 0 0 20px rgba(var(--primary-rgb), 0.2);
        border: 1px solid rgba(var(--primary-rgb), 0.3);
      }

      html[data-theme='dark'] mark {
         color: white;
      }
      
      @keyframes drafting-pulse {
        0%, 100% { background-color: rgba(var(--primary-rgb), 0.05); }
        50% { background-color: rgba(var(--primary-rgb), 0.1); }
      }
      .is-drafting {
          animation: drafting-pulse 2s infinite ease-in-out;
      }

      .animated-gradient-text {
        background-size: 200% auto;
        animation: animated-gradient 3s linear infinite;
      }

      .feature-card::before, .feature-card::after {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        z-index: -1;
      }

      .feature-card::before {
        background: radial-gradient(
          800px circle at var(--mouse-x) var(--mouse-y),
          rgba(var(--primary-rgb), 0.15),
          transparent 40%
        );
        opacity: 0;
        transition: opacity 0.5s;
      }
      .feature-card:hover::before {
        opacity: 1;
      }

      .feature-card::after {
        border: 1px solid transparent;
         background: radial-gradient(
          600px circle at var(--mouse-x) var(--mouse-y),
          rgba(var(--primary-rgb), 0.4),
          transparent 40%
        );
        background-clip: padding-box, border-box;
        background-origin: padding-box, border-box;
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        transition: opacity 0.5s;
      }
      .feature-card:hover::after {
        opacity: 1;
      }

    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              border: 'rgba(var(--border-rgb))',
              input: 'rgba(var(--input-rgb), 0.05)',
              ring: 'rgb(var(--ring-rgb))',
              background: 'rgb(var(--background-rgb))',
              foreground: 'rgb(var(--foreground-rgb))',
              primary: {
                DEFAULT: 'rgb(var(--primary-rgb))',
                foreground: 'rgb(var(--primary-foreground-rgb))',
              },
              secondary: {
                DEFAULT: 'rgb(var(--secondary-rgb))',
                foreground: 'rgb(var(--secondary-foreground-rgb))',
              },
              destructive: {
                DEFAULT: 'rgb(var(--destructive-rgb))',
                foreground: 'rgb(var(--destructive-foreground-rgb))',
              },
              muted: {
                DEFAULT: 'rgb(var(--muted-rgb))',
                foreground: 'rgb(var(--muted-foreground-rgb))',
              },
              card: {
                DEFAULT: 'rgb(var(--card-rgb))',
                foreground: 'rgb(var(--card-foreground-rgb))',
              },
              risk: {
                  high: 'rgb(var(--risk-high-rgb))',
                  medium: 'rgb(var(--risk-medium-rgb))',
                  low: 'rgb(var(--risk-low-rgb))',
              }
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              serif: ['Lora', 'serif'],
            },
            animation: {
              'shine': 'shine 4s linear infinite',
              'fade-in': 'fade-in 0.5s ease-out forwards',
              'scale-in': 'scale-in 0.3s ease-out forwards',
              'subtle-pulse': 'subtle-pulse 3s infinite cubic-bezier(0.4, 0, 0.6, 1)',
              'flow': 'flow 2s infinite ease-in-out',
              'flow-border': 'animated-gradient 3s ease infinite',
              'aurora': 'aurora 60s infinite linear'
            },
            keyframes: {
              'shine': {
                  'from': { backgroundPosition: '200% 0' },
                  'to': { backgroundPosition: '-200% 0' },
              },
              'fade-in': {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              'scale-in': {
                  '0%': { transform: 'scale(0.95)', opacity: '0' },
                  '100%': { transform: 'scale(1)', opacity: '1' },
              },
              'subtle-pulse': {
                '0%, 100%': { transform: 'scale(1)', filter: 'brightness(1)' },
                '50%': { transform: 'scale(1.03)', filter: 'brightness(1.2)' }
              },
              'flow': {
                  '0%': { transform: 'translateX(-100%)' },
                  '100%': { transform: 'translateX(100%)' },
              },
              'animated-gradient': {
                '0%': { backgroundPosition: '0% 50%' },
                '50%': { backgroundPosition: '100% 50%' },
                '100%': { backgroundPosition: '0% 50%' },
              },
              'aurora': {
                  from: { transform: 'translateX(0)' },
                  to: { transform: 'translateX(-50%)' },
              }
            },
            boxShadow: {
               'glass': 'inset 0 1px 1px 0 rgba(var(--border-rgb), 0.05)',
               'primary-glow': '0 0 30px -5px rgba(var(--primary-rgb), 0.4)',
               'primary-glow-lg': '0 0 60px -10px rgba(var(--primary-rgb), 0.5)',
               'risk-high-glow': '0 0 25px rgba(var(--risk-high-rgb), 0.3)',
               'risk-medium-glow': '0 0 25px rgba(var(--risk-medium-rgb), 0.3)',
               'risk-low-glow': '0 0 25px rgba(var(--risk-low-rgb), 0.3)',
            }
          },
        },
      }
    </script>
    <!-- 
      FIX: This comment was enhanced to be an explicit, critical security warning.

      CRITICAL SECURITY WARNING: This application loads dependencies directly from a third-party CDN using an `importmap`.
      This approach has a significant, inherent security vulnerability: the `importmap` web standard DOES NOT support Subresource Integrity (SRI) hashes.
      
      RISK:
      Without SRI, there is no way to verify the integrity of the loaded scripts. If the CDN provider (esm.sh, aistudiocdn.com) is compromised, 
      an attacker could inject malicious code into this application. This is known as a supply-chain attack and could be used to steal user data
      or perform other malicious actions. This is a critical, unmitigated vulnerability for any production application.
      
      RECOMMENDED ARCHITECTURAL FIX:
      To mitigate this vulnerability, the application architecture MUST be updated to remove the reliance on `importmap` for production builds.
      The industry-standard solution is to use a JavaScript bundler (e.g., Vite, Webpack, Parcel) to vendor all dependencies
      and build a single, secure application bundle. This is the only way to ensure the integrity of the code running in the user's browser.
    -->
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@1.19.0",
    "react-dom": "https://aistudiocdn.com/react-dom@18.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@18.2.0/",
    "framer-motion": "https://esm.sh/framer-motion@11.3.11?external=react",
    "react": "https://aistudiocdn.com/react@18.2.0",
    "react/": "https://aistudiocdn.com/react@18.2.0/",
    "dexie": "https://unpkg.com/dexie@4.0.7/dist/dexie.mjs"
  }
}
</script>
</head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>